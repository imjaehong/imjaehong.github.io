---
title: "2025-09-10"
tags:
    - Study
    - System Verilog
date: "2025-09-10"
thumbnail: "/assets/img/thumbnail/SystemVerilog.png"
bookmark: true
---

# HW Setting
---
![alt text](../../assets/img/final/250910/1.png)

### < ov7670 datasheet >
SCCB 인터페이스로 통신 = I2C
최대 30 frames
RGB565/555/444 지원
자체 Clock이 없기 때문에 외부 Clock을 써야함 (XCLK)

![alt text](../../assets/img/final/250910/2.png)
porch가 없음. posedge에서 HREF = 1 이고 이때 나오는 Data 유효

![alt text](../../assets/img/final/250910/3.png)
640, 480 라인존재
VSYNC=H : 1 Frame이 끝나고 다음 Line을 받음
Back Porch, Front Porch 사이의 영상처리를 끝내야 함, Line Buffer 필요

![alt text](../../assets/img/final/250910/4.png)
RGB565 : 16bit Data Format
First Byte(8bit) + Second Byte(8bit) = Pixel Data(16bit)
Pixel Data Bit = | 76543 | 210 / 765 | 43210 |

HREF=H, VSYNC=L 일때 Data 받음

### < Block Diagram>
![alt text](../../assets/img/final/250910/5.png)
Data 2번 받아서 Memory 에 1번 저장 (8bit, 8bit 받아서 16bit 저장)
각 Data 마다 구분이 필요함
16bit 를 다 받았을 때 Address와 Data, WriteEnable 신호를 내보냄

한 Frame 에 대해 내보낸 신호를 처리할 때는 VGA Decoder 에서 Pclk을 받아서 Frame Buffer 에서 Read Clock 으로 사용
Frame Buffer 를 기준으로 좌, 우는 다른 클럭이다.(Camera Domain, VGA Display Domain) -> CDC (Clock Domain Crossing)
카메라에서는 QVGA로 들어옴
